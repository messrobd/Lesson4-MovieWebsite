<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      #modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        padding-top: 200px;
        background-color: rgba(0,0,0,0.6);
        justify-content: center;
      }
      #player-container {
        height: fit-content;
        background-color: rgba(0,0,0,0.8);
      }
      #dismissPlayerControl {
        color: white;
        float: right;
      }
      #dismissPlayerControl:hover,
      #dismissPlayerControl:focus {
        color: lightgrey;
        cursor: pointer;
      }
      .movie-image {
        width: 300px;
      }
    </style>
  </head>
  <body>
    <div id="dredd" class="movie-tile">
      <img class="movie-image" src="https://upload.wikimedia.org/wikipedia/en/1/16/Dredd2012Poster.jpg">
    </div>
    <div id="aliens" class="movie-tile">
      <img class="movie-image" src="https://upload.wikimedia.org/wikipedia/en/f/fb/Aliens_poster.jpg">
    </div>
    <div id="modal">
      <div id="player-container">
        <div>
          <span id="dismissPlayerControl">&times;</a>
        </div>
        <div>
          <iframe id="player" width="560" height="315" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>
    </div>

    <script>
      var modalElement = document.getElementById('modal');
      var playerElement = document.getElementById('player');

      function invokePlayer(trailerURL){
        playerElement.src = trailerURL
        modalElement.style.display = 'flex'
      }
      function dismissPlayer(){
        modalElement.style.display = 'none'
        playerElement.src = ''
      }

      function makeInvokeHandler(trailerURL) {
        return function () {
          invokePlayer(trailerURL);
        }
      }

      var trailerDict = {
        'dredd':'https://www.youtube.com/embed/qVIba2N6MTA',
        'aliens':'https://www.youtube.com/embed/XKSQmYUaIyE'
      };

      for (var movie in trailerDict) {
        var movieTile = document.getElementById(movie);
        var trailerURL = trailerDict[movie];
        movieTile.onclick = makeInvokeHandler(trailerURL);
      }

      var dismissPlayerControl = document.getElementById('dismissPlayerControl');
      dismissPlayerControl.onclick = dismissPlayer;

    </script>
  </body>
</html>
